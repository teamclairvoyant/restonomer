<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-persistence/redshift_persistence">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Redshift | Restonomer</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://teamclairvoyant.github.io/restonomer/docs/persistence/redshift_persistence"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Redshift | Restonomer"><meta data-rh="true" name="description" content="User can use Redshift persistence to write/persist spark dataframe to aws redshift table."><meta data-rh="true" property="og:description" content="User can use Redshift persistence to write/persist spark dataframe to aws redshift table."><link data-rh="true" rel="icon" href="/restonomer/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://teamclairvoyant.github.io/restonomer/docs/persistence/redshift_persistence"><link data-rh="true" rel="alternate" href="https://teamclairvoyant.github.io/restonomer/docs/persistence/redshift_persistence" hreflang="en"><link data-rh="true" rel="alternate" href="https://teamclairvoyant.github.io/restonomer/docs/persistence/redshift_persistence" hreflang="x-default"><link rel="stylesheet" href="/restonomer/assets/css/styles.eedc1409.css">
<link rel="preload" href="/restonomer/assets/js/runtime~main.70a8c070.js" as="script">
<link rel="preload" href="/restonomer/assets/js/main.284a477a.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/restonomer/"><b class="navbar__title text--truncate">Restonomer</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/teamclairvoyant/restonomer" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/restonomer/docs/restonomer_intro">Restonomer</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/restonomer/docs/getting_started/add_sbt_dependency">Getting Started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/restonomer/docs/restonomer_context/restonomer_context_directory">Restonomer Context</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/restonomer/docs/running_checkpoints/run_single_checkpoint">Running Checkpoints</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/restonomer/docs/config_classes/checkpoint_config">Config Classes</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/restonomer/docs/token_request/token_request_intro">Token Request</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/restonomer/docs/authentication/api_key_authentication">Authentication</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/restonomer/docs/request_body/form_data_body">Request Body</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/restonomer/docs/restonomer_retry">Retry Mechanism</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/restonomer/docs/response_body/text/csv_text">Response Body</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/restonomer/docs/pagination/cursor_based_pagination">Pagination</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/restonomer/docs/transformation/add_column">Transformations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/restonomer/docs/persistence/file_system_persistence">Persistence</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/restonomer/docs/persistence/file_system_persistence">LocalFileSystem</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/restonomer/docs/persistence/gcp_bigquery_persistence">BigQuery</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/restonomer/docs/persistence/gcs_bucket_persistence">GCSBucket</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/restonomer/docs/persistence/redshift_persistence">Redshift</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/restonomer/docs/persistence/s3_bucket_persistence">S3Bucket</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/restonomer/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Persistence</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Redshift</span><meta itemprop="position" content="2"></li></ul></nav><div class="theme-doc-markdown markdown"><h1>Redshift</h1><p>User can use Redshift persistence to write/persist spark dataframe to aws redshift table.</p><p>User can configure the Redshift persistence in the below manner:</p><div class="language-hocon codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-hocon codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">persistence = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  type = &quot;Redshift&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  host-name = &quot;my-hostname&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  port = 5439</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  database-name = &quot;dev&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  table-name = &quot;my_redshift_table&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  user-name = &quot;test_user&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  password = &quot;test_password&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  temp-dir-path = &quot;s3a://my-tmp-redshift-bucket/redshift-tmp-dir/&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  writer-options = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    temp-dir-region = &quot;ca-central-1&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    iam-role-arn = &quot;arn:aws:iam::283220348991:role/service-role/AmazonRedshift-CommandsAccessRole-20231115T135908&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The <code>BigQuery</code> persistence needs below arguments from the user:</p><table><thead><tr><th align="left">Argument Name</th><th align="center">Mandatory</th><th align="center">Default Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left">host-name</td><td align="center">Yes</td><td align="center">-</td><td align="left">Redshift host name.</td></tr><tr><td align="left">port</td><td align="center">No</td><td align="center">5439</td><td align="left">Redshift port.</td></tr><tr><td align="left">database-name</td><td align="center">No</td><td align="center">dev</td><td align="left">Redshift database name.</td></tr><tr><td align="left">table-name</td><td align="center">Yes</td><td align="center">-</td><td align="left">Redshift table name.</td></tr><tr><td align="left">user-name</td><td align="center">Yes</td><td align="center">-</td><td align="left">Redshift user name.</td></tr><tr><td align="left">password</td><td align="center">Yes</td><td align="center">-</td><td align="left">Redshift password.</td></tr><tr><td align="left">temp-dir-path</td><td align="center">Yes</td><td align="center">-</td><td align="left">S3 path to store temporary files.</td></tr><tr><td align="left">writer-options</td><td align="center">No</td><td align="center">Default instance of <br><code>RedshiftWriterOptions</code> <br>with default values</td><td align="left">Redshift writer options represented by <code>RedshiftWriterOptions</code>.</td></tr><tr><td align="left">save-mode</td><td align="center">No</td><td align="center">overwrite</td><td align="left">Save mode to use while writing to redshift table.</td></tr></tbody></table><p>User can pass below options to the <code>RedshiftWriterOptions</code> instance:</p><table><tr><th>Parameter Name</th><th>Mandatory</th><th>Default value</th><th>Description</th></tr><tr><td>temp-dir-region</td><td>No</td><td>-</td><td><p>AWS region where tempdir is located. Setting this option will improve connector performance for interactions with tempdir as well as automatically supply this value as part of COPY and UNLOAD operations during connector writes and reads. If the region is not specified, the connector will attempt to use the <a href="https://docs.aws.amazon.com/sdk-for-java/v1/developer-guide/credentials.html" target="_blank" rel="noopener noreferrer">Default Credential Provider Chain</a> for resolving where the tempdir region is located. In some cases, such as when the connector is being used outside of an AWS environment, this resolution will fail. Therefore, this setting is highly recommended in the following situations:</p><ol><li>When the connector is running outside of AWS as automatic region discovery will fail and negatively affect connector performance.</li><li>When tempdir is in a different region than the Redshift cluster as using this setting alleviates the need to supply the region manually using the extracopyoptions and extraunloadoptions parameters.</li><li>When the connector is running in a different region than tempdir as it improves the connector&#x27;s access performance of tempdir.</li></ol></td></tr><tr><td>iam-role-arn</td><td>Only if using IAM roles to authorize Redshift COPY/UNLOAD operations</td><td>-</td><td>Fully specified ARN of the <a href="http://docs.aws.amazon.com/redshift/latest/mgmt/copy-unload-iam-role.html" target="_blank" rel="noopener noreferrer">IAM Role</a> attached to the Redshift cluster, ex: arn:aws:iam::123456789000:role/redshift_iam_role</td></tr><tr><td>forward-spark-s3-credentials</td><td>No</td><td>false</td><td>If true then this library will automatically discover the credentials that Spark is using to connect to S3 and will forward those credentials to Redshift over JDBC. These credentials are sent as part of the JDBC query, so it is strongly recommended to enable SSL encryption of the JDBC connection when using this option.</td></tr><tr><td>jdbc-driver</td><td>No</td><td>Determined by the JDBC URL&#x27;s subprotocol</td><td>The class name of the JDBC driver to use. This class must be on the classpath. In most cases, it should not be necessary to specify this option, as the appropriate driver classname should automatically be determined by the JDBC URL&#x27;s subprotocol.</td></tr><tr><td>dist-style</td><td>No</td><td>EVEN</td><td>The Redshift <a href="http://docs.aws.amazon.com/redshift/latest/dg/c_choosing_dist_sort.html" target="_blank" rel="noopener noreferrer">Distribution Style</a> to be used when creating a table. Can be one of EVEN, KEY or ALL (see Redshift docs). When using KEY, you must also set a distribution key with the distkey option.</td></tr><tr><td>dist-key</td><td>No, unless using DISTSTYLE KEY</td><td>-</td><td>The name of a column in the table to use as the distribution key when creating a table.</td></tr><tr><td>sort-key-spec</td><td>No</td><td>-</td><td><p>A full Redshift <a href="http://docs.aws.amazon.com/redshift/latest/dg/t_Sorting_data.html" target="_blank" rel="noopener noreferrer">Sort Key</a> definition.</p><p>Examples include:</p><ul><li>SORTKEY(my_sort_column)</li><li>COMPOUND SORTKEY(sort_col_1, sort_col_2)</li><li>INTERLEAVED SORTKEY(sort_col_1, sort_col_2)</li></ul></td></tr><tr><td>include-column-list</td><td>No</td><td>false</td><td>If true then this library will automatically extract the columns from the schema and add them to the COPY command according to the <a href="http://docs.aws.amazon.com/redshift/latest/dg/copy-parameters-column-mapping.html" target="_blank" rel="noopener noreferrer">Column List docs</a>. (e.g. `COPY &quot;PUBLIC&quot;.&quot;tablename&quot; (&quot;column1&quot; [,&quot;column2&quot;, ...])`).</td></tr><tr><td>description</td><td>No</td><td>-</td><td><p>A description for the table. Will be set using the SQL COMMENT command, and should show up in most query tools. See also the description metadata to set descriptions on individual columns.</p></td></tr><tr><td>pre-actions</td><td>No</td><td>-</td><td><p>This can be a list of SQL commands to be executed before loading COPY command. It may be useful to have some DELETE commands or similar run here before loading new data. If the command contains %s, the table name will be formatted in before execution (in case you&#x27;re using a staging table).</p><p>Be warned that if this commands fail, it is treated as an error, and you&#x27;ll get an exception. If using a staging table, the changes will be reverted and the backup table restored if pre actions fail.</p></td></tr><tr><td>post-actions</td><td>No</td><td>No default</td><td><p>This can be a list of SQL commands to be executed after a successful COPY when loading data. It may be useful to have some GRANT commands or similar run here when loading new data. If the command contains %s, the table name will be formatted in before execution (in case you&#x27;re using a staging table).</p><p>Be warned that if this commands fail, it is treated as an error and you&#x27;ll get an exception. If using a staging table, the changes will be reverted and the backup table restored if post actions fail.</p></td></tr><tr><td>extra-copy-options</td><td>No</td><td>No default</td><td><p>A list extra options to append to the Redshift COPY command when loading data, e.g. TRUNCATECOLUMNS or MAXERROR n (see the <a href="http://docs.aws.amazon.com/redshift/latest/dg/r_COPY.html#r_COPY-syntax-overview-optional-parameters" target="_blank" rel="noopener noreferrer">Redshift docs</a> for other options).</p><p>Note that since these options are appended to the end of the COPY command, only options that make sense at the end of the command can be used, but that should cover most possible use cases.</p></td></tr><tr><td>temp-format</td><td>No</td><td>AVRO</td><td><p>The format in which to save temporary files in S3 when writing to Redshift. Defaults to &quot;AVRO&quot;; the other allowed values are &quot;CSV&quot;, &quot;CSV GZIP&quot;, and &quot;PARQUET&quot; for CSV, gzipped CSV, and parquet, respectively.</p><p>Redshift is significantly faster when loading CSV than when loading Avro files, so using that tempformat may provide a large performance boost when writing to Redshift.</p><p>Parquet should not be used as the tempformat when using an S3 bucket (tempdir) in a region that is different from the region where the redshift cluster you are writing to resides. This is because cross-region copies are not supported in redshift when using parquet as the format.</p></td></tr><tr><td>csv-null-string</td><td>No</td><td>@NULL@</td><td><p>The String value to write for nulls when using the CSV tempformat. This should be a value which does not appear in your actual data.</p></td></tr><tr><td>auto-push-down</td><td>No</td><td>True</td><td><p>Apply predicate and query pushdown by capturing and analyzing the Spark logical plans for SQL operations. The operations are translated into a SQL query and then executed in Redshift to improve performance.</p><p>Once autopushdown is enabled, it is enabled for all the Redshift tables in the same Spark session.</p></td></tr><tr><td>auto-push-down-s3-result-cache</td><td>No</td><td>False</td><td>Cache the query SQL to unload data S3 path mapping in memory so that the same query don&#x27;t need to execute again in the same Spark session.</td></tr><tr><td>copy-retry-count</td><td>No</td><td>2</td><td>Number of times to retry a copy operation including dropping and creating any required table before failing.</td></tr><tr><td>jdbc-options</td><td>No</td><td>-</td><td>Additional map of parameters to pass to the underlying JDBC driver where the wildcard is the name of the JDBC parameter (e.g., jdbc.ssl). Note that the jdbc prefix will be stripped off before passing to the JDBC driver. A complete list of possible options for the Redshift JDBC driver may be seen in the <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/jdbc20-configuration-options.html" target="_blank" rel="noopener noreferrer">Redshift docs</a>.</td></tr></table><p>Now, in order to make this work, user need to first authenticate against AWS account.
User need to set below two environment variables in their execution environment:</p><ul><li><code>AWS_ACCESS_KEY</code> or <code>AWS_ACCESS_KEY_ID</code></li><li><code>AWS_SECRET_KEY</code> or <code>AWS_SECRET_ACCESS_KEY</code></li></ul><p>Users should know beforehand the values of above credentials for their AWS account.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/restonomer/docs/persistence/gcs_bucket_persistence"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">GCSBucket</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/restonomer/docs/persistence/s3_bucket_persistence"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">S3Bucket</div></a></nav></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024, Clairvoyant (EXL Company)</div></div></div></footer></div>
<script src="/restonomer/assets/js/runtime~main.70a8c070.js"></script>
<script src="/restonomer/assets/js/main.284a477a.js"></script>
</body>
</html>